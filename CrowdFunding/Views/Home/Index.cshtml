@model HomeIndexVIewModel
@{
    ViewData["Title"] = "Home Page";
}

<div class="container-fluid">
    <div class="ownCarousel">
        <div class="mySlides" id="mySlides-1">
            <div class="centered">
                <h1>Let's make change.</h1>
            </div>
        </div>
        <div class="mySlides" id="mySlides-2">
            <div class="centered">
                <h1>Let's make .</h1>
            </div>
        </div>
        <div class="mySlides" id="mySlides-3">
            <div class="centered">
                <h1>Let's  change.</h1>
            </div>
        </div>
    </div>
</div>


<div class="second-part">
    <div class="projectCategory group">
        <ul class="projectCategory-ul">
            @foreach (var item in Model.ProjectCategories)
            {
                <li class="projectCategory-li">
                    <button value="@item.Id" class="projectCategory-li-a">@item.Type</button>
                </li>
            }
        </ul>
    </div>
    <div class="category-projects group">
        <div class="category-projects-big">
            <img src="~/images/img-4.jpg" alt="project image" />
        </div>
        <div class="category-projects-box">
            <div class="category-projects-box-list">
                @foreach (var item in Model.FileProjects)
                {

                    <ul>
                        <li class="group">
                            <div class="category-projects-box-list-image">
                                <img src="#" alt="project image" />
                            </div>
                            <div class="category-projects-box-list-info">
                                <h4>@item.Name</h4>
                                <p>@item.ProjectShortDescription</p>
                                <p>@item.NeededFund</p>
                            </div>
                        </li>
                    </ul>
                }
            </div>
            <div class="category-projects-box-all">
                <a href="">View all</a>
            </div>
        </div>
    </div>
</div>


@section Scripts{
    <script>
        var myIndex = 0;
        carousel();

        function carousel() {
            var i;
            var x = document.getElementsByClassName("mySlides");
            for (i = 0; i < x.length; i++) {
                x[i].style.display = "none";
            }
            myIndex++;
            if (myIndex > x.length) { myIndex = 1 }
            x[myIndex - 1].style.display = "block";
            setTimeout(carousel, 3000); // Change image every 3 seconds
        }

        $(".projectCategory-li-a").on('click', function () {
            var categoryId = $(this).val();
            console.log(categoryId);
            var url = "/Projects/ShowByCategory/" + categoryId;
            $.ajax({
                type: "GET",
                url: url,
                contentType: "application/json",
                dataType: "json",
                success: function (response) {
                    var dvItems = $(".category-projects-box-list");
                    dvItems.html(" ");
                    var str;


                    $.each(response, function (i, item) {
                        str += "<ul> <li class=" + "group" + "> ";
                        str += "<div class=" + "category-projects-box-list-image" + "> <img src=" + item.image1 + " /> </div>";
                        str += "<div class=" + "category-projects-box-list-info" + ">";
                        str += "<h4>" + item.name + "</h4>";
                        str += "<p>" + item.projectShortDescription + "</p>";
                        str += "<p>" + item.neededFund + "</p>";
                        str += "</div> </li> </ul>";
                    });
                    dvItems.append(str);
                },
                failure: function (response) {
                    alert(response);
                }
            });

        })




    </script>
}







@*<section>
        <div class="container-fluid">
            <div id="myCarousel" class="carousel slide" data-ride="carousel" data-interval="6000">
                <ol class="carousel-indicators">
                    <li data-target="#myCarousel" data-slide-to="0" class="active"></li>
                    <li data-target="#myCarousel" data-slide-to="1"></li>
                    <li data-target="#myCarousel" data-slide-to="2"></li>
                </ol>
                <div class="carousel-inner" role="listbox">
                    <div class="item active">
                        <img src="~/images/banner1.jpg" alt="ASP.NET" class="img-responsiv" />

                    </div>
                    <div class="item">
                        <img src="~/images/banner2.jpg" alt="Visual Studio" class="img-responsive" />

                    </div>
                    <div class="item">
                        <img src="~/images/banner3.jpg" alt="Microsoft Azure" class="img-responsive" />

                    </div>
                </div>
                <a class="left carousel-control" href="#myCarousel" role="button" data-slide="prev">
                    <span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>
                    <span class="sr-only">Previous</span>
                </a>
                <a class="right carousel-control" href="#myCarousel" role="button" data-slide="next">
                    <span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span>
                    <span class="sr-only">Next</span>
                </a>
            </div>
        </div>
    </section>*@
